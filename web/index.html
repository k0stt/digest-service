<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digest Service - –£–º–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ—á—Ç—ã</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>üìä Digest Service</h1>
            <p>–£–º–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç –≤–∞—à–µ–π –ø–æ—á—Ç—ã</p>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
        <div id="auth-container">
            <div class="content">
                <div class="form-container">
                    <h3>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
                    <div class="input-group">
                        <input type="text" id="login-username" placeholder="üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                    </div>
                    <div class="input-group">
                        <input type="password" id="login-password" placeholder="üîí –ü–∞—Ä–æ–ª—å">
                    </div>
                    <button onclick="auth.login()">üöÄ –í–æ–π—Ç–∏</button>
                    <div id="login-error" class="error hidden"></div>
                </div>

                <div class="form-container">
                    <h3>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h3>
                    <div class="input-group">
                        <input type="text" id="register-username" placeholder="üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                    </div>
                    <div class="input-group">
                        <input type="password" id="register-password" placeholder="üîí –ü–∞—Ä–æ–ª—å">
                    </div>
                    <div class="input-group">
                        <input type="email" id="register-email" placeholder="üìß Email –∞–¥—Ä–µ—Å">
                    </div>
                    <button onclick="auth.register()">‚ú® –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    <div id="register-error" class="error hidden"></div>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
        <div id="app-container" class="hidden">
            <div class="user-info">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="username">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>! üëã</h2>
                <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</p>
            </div>

            <div class="content">
                <!-- –¢–∞–±—ã -->
                <div class="tabs">
                    <div class="tab-btn active" onclick="app.showTab('settings')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    <div class="tab-btn" onclick="app.showTab('test')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                <div id="settings-tab">
                    <div class="form-container">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—á—Ç—ã</h3>
                        <div class="settings-grid">
                            <div class="setting-item">
                                <label for="imap-server">üì° IMAP —Å–µ—Ä–≤–µ—Ä</label>
                                <input type="text" id="imap-server" placeholder="imap.gmail.com:993">
                            </div>
                            <div class="setting-item">
                                <label for="email">üìß –í–∞—à email</label>
                                <input type="email" id="email" placeholder="your.email@gmail.com">
                            </div>
                            <div class="setting-item">
                                <label for="app-password">üîë –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</label>
                                <input type="password" id="app-password" placeholder="16-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å">
                                <small class="help-text">
                                    ‚ö†Ô∏è –ù–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å! –î–ª—è Gmail: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
                                </small>
                            </div>
                            <div class="setting-item">
                                <label for="schedule">‚è∞ –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏</label>
                                <input type="text" id="schedule" placeholder="09:00" value="09:00">
                                <small class="help-text">
                                    ‚è±Ô∏è –§–æ—Ä–º–∞—Ç: –ß–ß:–ú–ú (24-—á–∞—Å–æ–≤–æ–π). –î–∞–π–¥–∂–µ—Å—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è
                                </small>
                            </div>
                        </div>
                        <button class="success" onclick="settings.saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                        <div id="settings-message" class="hidden"></div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <div id="test-tab" class="hidden">
                    <div class="form-container">
                        <h3>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</h3>
                        <p class="info-text">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏</p>
                        <div class="test-buttons">
                            <button onclick="testing.testProtectedEndpoint()">üîí –¢–µ—Å—Ç –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ API</button>
                            <button onclick="testing.testEmailConnection()">üìß –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ø–æ—á—Ç–µ</button>
                            <button class="success" onclick="testing.sendTestDigest()">üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –¥–∞–π–¥–∂–µ—Å—Ç</button>
                        </div>
                        <div id="test-result" class="hidden"></div>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
                <div class="logout-section">
                    <button class="danger" onclick="auth.logout()">üö™ –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/components/auth.js"></script>
    <script src="js/modules/settings.js"></script>
    <script src="js/modules/testing.js"></script>
    <script src="js/app.js"></script>
</body>
</html>